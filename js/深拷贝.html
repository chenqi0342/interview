<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>深拷贝</title>
	</head>
	<body>
		<script>
			/**
			 * 深拷贝
			 */

			const obj1 = {
				age: 20,
				name: 'xxx',
				address: {
					city: 'beijing',
				},
				arr: ['a', 'b', 'c'],
			}

			function deepClone(obj = {}) {
				// obj 是 null ，或者不是对象和数组，直接返回
				if (typeof obj !== 'object' || obj == null) {
					return obj
                    //20走到这里 {age:20}
				}
                // 初始化返回结果
				let res
				if (obj instanceof Array) {
					res = []
				} else {
					res = {}
				}

				for (let key in obj) {
                    // {
                    //     //key
                    //     age:
                    // }
                    // 保证 key 不是原型的属性 
					if (obj.hasOwnProperty(key)) {
                        // 递归调用
						res[key] = deepClone(obj[key])
					}
				}
                // 返回结果
				return res
			}

			console.log(deepClone(obj1))
		</script>
	</body>
</html>
